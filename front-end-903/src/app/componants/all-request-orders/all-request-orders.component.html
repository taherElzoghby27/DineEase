<h2 class="page-title text-center mb-4">Request Orders</h2>

<div class="orders-wrapper container">
  <div *ngIf="orders.length === 0" class="empty-orders text-center my-5">
    <i class="bi bi-box-seam text-muted display-4 mb-3"></i>
    <h5 class="text-muted">No orders found.</h5>
  </div>

  <div class="order-card" *ngFor="let order of orders">

    <!-- Header -->
    <div class="order-header">
      <strong class="order-id">Order #{{ order.id }}</strong>
      <span class="status-badge" [ngClass]="getStatusClass(order.status)">
        {{ order.status || 'Unknown' }}
      </span>
    </div>

    <!-- Product List -->
    <div class="order-details">
      <div *ngFor="let product of order.products" class="product-item">
        <img [src]="'assets/img/' + product.imagePath" [alt]="product.name">
        <div class="product-info">
          <div class="product-name">{{ product.name }}</div>
          <div class="product-price">{{ product.price }} $</div>
        </div>
      </div>
    </div>

    <!-- Order Meta -->
    <div class="order-meta">
      <span><strong>Code:</strong> {{ order.code }}</span>
      <span><strong>Total Number:</strong> {{ order.totalNumber }}</span>
      <span><strong>Total Price:</strong> {{ order.totalPrice }} $</span>
      <span><strong>Created By:</strong> {{ order.createdBy }}</span>
    </div>

    <!-- Update Status Button -->
    <div *ngIf="isAdmin()" class="order-actions">
      <button (click)="updateStatus(order)" class="btn-update-status">
        Update Status
      </button>
    </div>

  </div>
</div>
